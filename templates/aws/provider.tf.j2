


terraform {
 backend "s3" {
      access_key                  = "{{VULTR_ACCESS_KEY}}"
      secret_key                  = "{{VULTR_SECRET_KEY}}"
      bucket                      = "{{USER_SPECIFIC_BUCKET_NAME}}"
      key                         = "terraform.tfstate"
      endpoint                    = "{{ENDPOINT}}"
      region                      = "us-east-1"
      skip_credentials_validation = true
      skip_metadata_api_check     = true
  }
  required_providers {
    aws = {
      source = "hashicorp/aws"
      version = "5.31.0"
    }
  }
}

provider "aws" {
  access_key = "{{access_key}}"
  secret_key = "{{secret_key}}"
  {% if region is defined and region %}
    region = "{{region}}"
  {%else%}
    region = "us-east-1"
  {% endif %}
}